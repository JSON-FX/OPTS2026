# Story 0.2.1: Admin User Management Migration

## Status

Draft

## Story

**As a** Frontend Developer,
**I want** to migrate User Management pages (Index, Create, Edit) to shadcn/ui DataTable and Form components,
**so that** the admin user management interface uses modern, consistent shadcn/ui patterns with enhanced table features (sort, filter, search, pagination) and accessible form controls.

## Acceptance Criteria

1. User list uses shadcn DataTable with search, sort, filter, pagination
2. Role filter uses Select dropdown (shadcn component)
3. Office filter uses Select dropdown (shadcn component)
4. Role displays as Badge component
5. Create/Edit forms use shadcn Form components (Input, Label, Select, FormMessage)
6. Password field has show/hide toggle using Eye/EyeOff icons from lucide-react
7. Delete uses AlertDialog confirmation (shadcn component)
8. RBAC enforced (Viewer/Endorser get 403, only Administrator can access)
9. All CRUD operations functional (create, edit, delete work via Inertia)
10. Zero console errors on user management pages
11. Playwright tests pass (RBAC, CRUD, validation)
12. Visual regression tests pass (screenshots match expected UI)
13. TypeScript compilation successful with migrated components
14. Responsive design at mobile/tablet/desktop viewports (375px, 768px, 1920px)
15. Success/error messages display via Toast (global Toaster from Story 0.1.2)

## Tasks / Subtasks

- [ ] **Task 1: Fetch Required shadcn Components** (AC: 1, 2, 3, 4, 7)
  - [ ] Verify DataTable components exist (table, data-table examples)
  - [ ] Install missing components via MCP shadcn tool
  - [ ] Install @tanstack/react-table if not already installed
  - [ ] Verify Badge, AlertDialog, Select components available
  - [ ] Verify lucide-react icons (Eye, EyeOff) available

- [ ] **Task 2: Migrate Index.tsx to DataTable** (AC: 1, 2, 3, 4, 8, 10, 14, 15)
  - [ ] Replace custom table → shadcn DataTable component
  - [ ] Define columns with ColumnDef<User>[] type from @tanstack/react-table
  - [ ] Add DataTable toolbar with search Input (shadcn)
  - [ ] Add Select filter for role (All Roles, Viewer, Endorser, Administrator)
  - [ ] Add Select filter for office (All Offices, + list of offices)
  - [ ] Implement column sorting (name, email, role, created_at)
  - [ ] Add row selection with checkboxes (optional, for future bulk actions)
  - [ ] Add actions DropdownMenu per row (Edit, Delete buttons)
  - [ ] Display role with Badge component (variant based on role)
  - [ ] Add pagination controls using DataTable pagination props
  - [ ] Add column visibility toggle (DataTable feature)
  - [ ] Replace native input → shadcn Input for search
  - [ ] Replace native select → shadcn Select for filters
  - [ ] Replace "Create User" button → shadcn Button (variant="default")
  - [ ] Test RBAC: verify only Administrator can access (403 for Viewer/Endorser)
  - [ ] Test responsive layout at mobile/tablet/desktop
  - [ ] Verify zero console errors

- [ ] **Task 3: Migrate Create.tsx to shadcn Form** (AC: 5, 6, 9, 10, 13, 14, 15)
  - [ ] Replace all inputs → shadcn Input components
  - [ ] Replace labels → shadcn Label components
  - [ ] Replace native select → shadcn Select for role dropdown
  - [ ] Replace native select → shadcn Select for office dropdown
  - [ ] Add password visibility toggle (Eye/EyeOff icons from lucide-react)
  - [ ] Add password confirmation field with visibility toggle
  - [ ] Replace PrimaryButton → shadcn Button (variant="default")
  - [ ] Update error display → FormMessage or <p className="text-sm text-destructive">
  - [ ] Preserve Inertia useForm integration (data, setData, post, errors, processing)
  - [ ] Test form submission with valid data → redirect to index with success toast
  - [ ] Test validation errors → display via FormMessage
  - [ ] Verify duplicate email validation works
  - [ ] Verify password minimum 8 characters validation works
  - [ ] Test responsive layout at mobile/tablet/desktop
  - [ ] Verify TypeScript compiles without errors

- [ ] **Task 4: Migrate Edit.tsx to shadcn Form** (AC: 5, 6, 9, 10, 13, 14, 15)
  - [ ] Same form structure as Create.tsx (use shadcn components)
  - [ ] Pre-populate form fields with existing user data
  - [ ] Make password field optional (only update if provided)
  - [ ] Add password confirmation field (conditional, only if password provided)
  - [ ] Test form submission with valid data → redirect to index with success toast
  - [ ] Test validation errors → display via FormMessage
  - [ ] Test password update (optional field)
  - [ ] Test updating name, email, role, office
  - [ ] Verify TypeScript compiles without errors

- [ ] **Task 5: Migrate Delete Confirmation** (AC: 7, 9, 10, 15)
  - [ ] Replace custom confirm() → shadcn AlertDialog
  - [ ] Add AlertDialog structure (Header, Title, Description, Footer, Actions)
  - [ ] Add warning message in AlertDialogDescription
  - [ ] Add "Cancel" button (AlertDialogCancel)
  - [ ] Add "Delete" button (AlertDialogAction with variant="destructive")
  - [ ] Trigger AlertDialog from Index.tsx delete action
  - [ ] Test delete flow → sends DELETE request via Inertia
  - [ ] Test success toast displays after deletion
  - [ ] Test error handling if user has audit trail

- [ ] **Task 6: Update Imports & Cleanup** (AC: 10, 13)
  - [ ] Remove unused legacy component imports (TextInput, PrimaryButton, etc.)
  - [ ] Update all imports to use @/Components/ui/* pattern
  - [ ] Verify no TypeScript errors
  - [ ] Run `npx tsc --noEmit` to verify TypeScript compilation
  - [ ] Verify no console errors in browser

- [ ] **Task 7: Testing & Validation** (AC: 8, 9, 11, 12, 14)
  - [ ] Run `npm run build` to verify production build succeeds
  - [ ] Test RBAC: Administrator can access /admin/users
  - [ ] Test RBAC: Viewer/Endorser receive 403 on /admin/users
  - [ ] Test Create user flow with valid data
  - [ ] Test Create user with validation errors (duplicate email, short password)
  - [ ] Test Edit user flow (update name, email, role, office)
  - [ ] Test Edit user with password update
  - [ ] Test Delete user with AlertDialog confirmation
  - [ ] Test DataTable search functionality
  - [ ] Test DataTable role filter
  - [ ] Test DataTable office filter
  - [ ] Test DataTable sorting (name, email, role, created_at)
  - [ ] Test DataTable pagination
  - [ ] Capture screenshots at mobile (375px), tablet (768px), desktop (1920px)
  - [ ] Run Playwright tests (if test suite exists)

## Dev Notes

### Story Overview

Story 0.2.1 is the **first story in Epic 0.2** that migrates the existing User Management interface (Story 1.3) from legacy/mixed components to full shadcn/ui components with DataTable. This story:

1. Replaces the basic HTML table with shadcn DataTable (powered by @tanstack/react-table)
2. Adds advanced table features: search, filtering by role/office, sorting, pagination, column visibility
3. Migrates all form components (Create, Edit) to shadcn Input, Label, Select, FormMessage
4. Replaces native confirm() dialog with shadcn AlertDialog for delete confirmations
5. Displays user roles as Badge components with appropriate styling
6. Preserves all Inertia.js integration and Laravel backend functionality

**Why This Approach:**
- **Zero Backend Changes:** All controllers, routes, validation, RBAC middleware unchanged
- **Enhanced UX:** DataTable provides professional table experience with sorting, filtering, search
- **Consistent UI Foundation:** Establishes DataTable pattern for all admin interfaces (Epic 0.2.2 will replicate)
- **Accessibility Preserved:** shadcn components maintain WCAG 2.1 AA compliance via Radix UI
- **Type Safety:** @tanstack/react-table provides full TypeScript support for columns and data

[Source: docs/prd/epic-0.2-shadcn-administrative-interfaces.md#Story-0.2.1]

### Previous Story Insights

**From Story 0.1.3 (Authentication Pages Migration):**
- All shadcn Form components (Input, Label, Button, FormMessage) verified working
- Inertia useForm integration with shadcn components tested and functional
- Global Toaster integrated for flash messages (success/error toasts work)
- TypeScript compilation verified passing with shadcn components
- Build verification passing (npm run build succeeds)
- Password visibility toggle pattern established using lucide-react icons

**Key Insight:** Form migration pattern from Story 0.1.3 can be replicated for Create.tsx and Edit.tsx. Use simple `<p className="text-sm text-destructive">` for error display instead of full FormMessage/FormItem structure to maintain compatibility with Inertia useForm.

[Source: docs/stories/0.1.3.authentication-pages-migration.md#Completion-Notes]

**From Story 0.1.2 (Global Layout & Navigation Migration):**
- Global Toaster integrated and functional
- Toast component displays Laravel flash messages automatically
- All pages inherit from migrated AuthenticatedLayout
- RBAC navigation filtering still working (role-based link display)

[Source: docs/stories/0.1.2.global-layout-navigation-migration.md#Completion-Notes]

**From Story 0.1.1 (Pre-Migration Setup):**
- shadcn components installed: Button, Input, Label, Select, Badge, Card, AlertDialog, Toast, Separator
- DataTable components may need to be fetched (check if data-table example exists)
- @tanstack/react-table may need to be installed (check package.json)
- Component mapping guide available at docs/shadcn-component-mapping.md
- MCP shadcn tool verified working for component installation

[Source: docs/stories/0.1.1.pre-migration-setup-component-installation.md#Completion-Notes]

### Data Models

**User Interface:**
[Source: docs/architecture/data-models.md + Story 1.3]

```typescript
interface User {
  id: number;
  name: string;
  email: string;
  email_verified_at: string | null;
  office_id: number | null;
  is_active: boolean;
  created_at: string;
  updated_at: string;

  // Relationships
  office?: Office;
  roles?: Role[];
}

interface Role {
  id: number;
  name: 'Viewer' | 'Endorser' | 'Administrator';
  guard_name: string;
  created_at: string;
  updated_at: string;
}

interface Office {
  id: number;
  name: string;
  abbreviation: string;
  is_active: boolean;
  created_at: string;
  updated_at: string;
  deleted_at: string | null;
}

interface UserFormData {
  name: string;
  email: string;
  password: string;
  password_confirmation: string;
  role: string; // Role name
  office_id: number | null;
}

interface PaginatedData<T> {
  data: T[];
  current_page: number;
  last_page: number;
  per_page: number;
  total: number;
  from: number;
  to: number;
}
```

### Backend API Specifications

**User Management Routes:**
[Source: Story 1.3, docs/architecture/unified-project-structure.md]

All routes protected by middleware: `['auth', 'role:Administrator']`

```
GET    /admin/users           UserController@index     admin.users.index
GET    /admin/users/create    UserController@create    admin.users.create
POST   /admin/users           UserController@store     admin.users.store
GET    /admin/users/{id}/edit UserController@edit      admin.users.edit
PUT    /admin/users/{id}      UserController@update    admin.users.update
DELETE /admin/users/{id}      UserController@destroy   admin.users.destroy
```

**Controller Response Structure:**
[Source: Story 1.3, docs/architecture/frontend-architecture.md]

Index page receives:
```php
Inertia::render('Admin/Users/Index', [
    'users' => User::with(['roles', 'office'])->paginate(50),
    'roles' => Role::all(),
    'offices' => Office::where('is_active', true)->get()
]);
```

Create/Edit pages receive:
```php
// Create
Inertia::render('Admin/Users/Create', [
    'roles' => Role::all(),
    'offices' => Office::where('is_active', true)->get()
]);

// Edit
Inertia::render('Admin/Users/Edit', [
    'user' => $user->load(['roles', 'office']),
    'roles' => Role::all(),
    'offices' => Office::where('is_active', true)->get()
]);
```

**Validation Rules:**
[Source: Story 1.3]

StoreUserRequest:
```php
'name' => 'required|string|max:255',
'email' => 'required|email|unique:users,email',
'password' => 'required|string|min:8|confirmed',
'role' => 'required|string|exists:roles,name',
'office_id' => 'nullable|integer|exists:offices,id'
```

UpdateUserRequest:
```php
'name' => 'required|string|max:255',
'email' => 'required|email|unique:users,email,'.$user->id,
'password' => 'nullable|string|min:8|confirmed', // Optional
'role' => 'required|string|exists:roles,name',
'office_id' => 'nullable|integer|exists:offices,id'
```

### Component Specifications

**DataTable Pattern:**
[Source: docs/shadcn-component-mapping.md#DataTable-Migration, docs/architecture/components.md#DataTable]

```typescript
import { ColumnDef } from '@tanstack/react-table';
import { DataTable } from '@/Components/DataTable';
import { Badge } from '@/Components/ui/badge';
import { Button } from '@/Components/ui/button';
import { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/Components/ui/dropdown-menu';
import { MoreHorizontal } from 'lucide-react';

const columns: ColumnDef<User>[] = [
  {
    accessorKey: 'name',
    header: 'Name',
    enableSorting: true,
  },
  {
    accessorKey: 'email',
    header: 'Email',
    enableSorting: true,
  },
  {
    accessorKey: 'roles',
    header: 'Role',
    cell: ({ row }) => {
      const role = row.original.roles?.[0]?.name || 'No role';
      const variant = role === 'Administrator' ? 'default' : role === 'Endorser' ? 'secondary' : 'outline';
      return <Badge variant={variant}>{role}</Badge>;
    },
  },
  {
    accessorKey: 'office',
    header: 'Office',
    cell: ({ row }) => row.original.office?.name || '-',
  },
  {
    accessorKey: 'created_at',
    header: 'Created',
    cell: ({ row }) => new Date(row.original.created_at).toLocaleDateString(),
    enableSorting: true,
  },
  {
    id: 'actions',
    cell: ({ row }) => (
      <DropdownMenu>
        <DropdownMenuTrigger asChild>
          <Button variant="ghost" size="icon">
            <MoreHorizontal className="h-4 w-4" />
          </Button>
        </DropdownMenuTrigger>
        <DropdownMenuContent align="end">
          <DropdownMenuItem onClick={() => router.visit(route('admin.users.edit', row.original.id))}>
            Edit
          </DropdownMenuItem>
          <DropdownMenuItem onClick={() => handleDelete(row.original.id)} className="text-destructive">
            Delete
          </DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenu>
    ),
  },
];

// Usage
<DataTable
  columns={columns}
  data={users.data}
  searchKey="name"
  searchPlaceholder="Search by name or email..."
/>
```

**Form Pattern with Inertia:**
[Source: docs/shadcn-component-mapping.md#Form-with-Inertia-Integration]

```typescript
import { useForm } from '@inertiajs/react';
import { Input } from '@/Components/ui/input';
import { Label } from '@/Components/ui/label';
import { Button } from '@/Components/ui/button';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/Components/ui/select';
import { Eye, EyeOff } from 'lucide-react';

const { data, setData, post, processing, errors } = useForm<UserFormData>({
  name: '',
  email: '',
  password: '',
  password_confirmation: '',
  role: '',
  office_id: null,
});

const [showPassword, setShowPassword] = useState(false);

// Form submission
const submit: FormEventHandler = (e) => {
  e.preventDefault();
  post(route('admin.users.store'));
};

// Password field with toggle
<div className="space-y-2">
  <Label htmlFor="password">Password</Label>
  <div className="relative">
    <Input
      id="password"
      type={showPassword ? 'text' : 'password'}
      value={data.password}
      onChange={(e) => setData('password', e.target.value)}
      required
    />
    <button
      type="button"
      onClick={() => setShowPassword(!showPassword)}
      className="absolute right-3 top-1/2 -translate-y-1/2"
    >
      {showPassword ? <EyeOff className="h-4 w-4" /> : <Eye className="h-4 w-4" />}
    </button>
  </div>
  {errors.password && (
    <p className="text-sm text-destructive">{errors.password}</p>
  )}
</div>
```

**AlertDialog Pattern:**
[Source: docs/shadcn-component-mapping.md#AlertDialog]

```typescript
import {
  AlertDialog,
  AlertDialogAction,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogDescription,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogTitle,
} from '@/Components/ui/alert-dialog';

const [deleteUserId, setDeleteUserId] = useState<number | null>(null);

const handleDelete = (userId: number) => {
  setDeleteUserId(userId);
};

const confirmDelete = () => {
  if (deleteUserId) {
    router.delete(route('admin.users.destroy', deleteUserId), {
      preserveScroll: true,
      onSuccess: () => setDeleteUserId(null),
    });
  }
};

// AlertDialog usage
<AlertDialog open={deleteUserId !== null} onOpenChange={(open) => !open && setDeleteUserId(null)}>
  <AlertDialogContent>
    <AlertDialogHeader>
      <AlertDialogTitle>Are you absolutely sure?</AlertDialogTitle>
      <AlertDialogDescription>
        This action cannot be undone. This will permanently delete the user account.
      </AlertDialogDescription>
    </AlertDialogHeader>
    <AlertDialogFooter>
      <AlertDialogCancel>Cancel</AlertDialogCancel>
      <AlertDialogAction onClick={confirmDelete} className="bg-destructive text-destructive-foreground hover:bg-destructive/90">
        Delete
      </AlertDialogAction>
    </AlertDialogFooter>
  </AlertDialogContent>
</AlertDialog>
```

### File Locations

**Frontend Files to Modify:**
[Source: docs/architecture/unified-project-structure.md]

```
resources/js/Pages/Admin/Users/Index.tsx     - Replace table with DataTable
resources/js/Pages/Admin/Users/Create.tsx    - Migrate to shadcn Form components
resources/js/Pages/Admin/Users/Edit.tsx      - Migrate to shadcn Form components
```

**Existing Files (Story 1.3):**
```
app/Http/Controllers/Admin/UserController.php   - No changes needed
app/Http/Requests/StoreUserRequest.php          - No changes needed
app/Http/Requests/UpdateUserRequest.php         - No changes needed
app/Models/User.php                              - No changes needed
routes/web.php                                   - No changes needed
```

**Component Files (shadcn):**
```
resources/js/Components/ui/button.tsx           - Already exists
resources/js/Components/ui/input.tsx            - Already exists
resources/js/Components/ui/label.tsx            - Already exists
resources/js/Components/ui/select.tsx           - Verify exists, install if needed
resources/js/Components/ui/badge.tsx            - Already exists
resources/js/Components/ui/alert-dialog.tsx     - Already exists
resources/js/Components/ui/toast.tsx            - Already exists
resources/js/Components/DataTable.tsx           - May need to create or fetch example
```

### Testing Requirements

**Test Types:**
[Source: docs/architecture/testing-strategy.md]

1. **Feature Tests (Backend - Already exist from Story 1.3):**
   - Location: `tests/Feature/Admin/UserControllerTest.php`
   - No changes needed - backend unchanged

2. **Frontend Tests (New or Update if exists):**
   - Location: `resources/js/__tests__/` (future)
   - Scope: DataTable rendering, form submission, validation display
   - Tools: Vitest + React Testing Library
   - Run: `npm run test`

3. **End-to-End Tests (Playwright):**
   - Scope: Full user management CRUD workflow
   - RBAC verification (403 for non-admin roles)
   - Form validation error display
   - DataTable search, filter, sort functionality
   - Screenshots at mobile/tablet/desktop viewports

**Test Execution:**
```bash
# Backend tests (should still pass)
php artisan test --filter=UserControllerTest

# Frontend build verification
npm run build

# TypeScript compilation
npx tsc --noEmit

# Frontend tests (if test suite exists)
npm run test

# Playwright E2E tests (if configured)
npx playwright test
```

### Technical Constraints

**Version Requirements:**
[Source: docs/architecture/tech-stack.md]

- React 19
- TypeScript 5.x
- Inertia.js 1.x
- @tanstack/react-table (install if missing, version ^8.x)
- Tailwind CSS 3.x
- Lucide React (for icons)

**Browser Support:**
- Modern evergreen browsers (Chrome, Firefox, Safari, Edge)
- Mobile responsive (375px minimum width)

**Performance:**
- DataTable should handle 50+ users per page efficiently
- Server-side pagination for large datasets (Laravel paginator)
- Client-side sorting/filtering only on current page data

**Accessibility:**
[Source: docs/architecture/frontend-architecture.md#Accessibility]

- All shadcn components are Radix UI based (WCAG 2.1 AA compliant)
- DataTable must be keyboard navigable
- AlertDialog must trap focus
- Form inputs must have associated labels
- Error messages must be announced to screen readers

### RBAC Enforcement

**Middleware Protection:**
[Source: Story 1.3, docs/architecture/coding-standards.md]

All routes protected by: `middleware(['auth', 'role:Administrator'])`

**Expected Behavior:**
- Administrator: Full access to /admin/users (Index, Create, Edit, Delete)
- Endorser: 403 Forbidden on /admin/users
- Viewer: 403 Forbidden on /admin/users
- Unauthenticated: Redirect to login

**Frontend RBAC Check (Optional):**
Navigation links should hide /admin/users link for non-admin roles (already handled in AuthenticatedLayout from Story 0.1.2).

### Project Structure Alignment

**Follows Unified Project Structure:**
[Source: docs/architecture/unified-project-structure.md]

```
resources/js/Pages/Admin/Users/   - Inertia pages by domain (Admin/Users)
resources/js/Components/ui/        - Shadcn component wrappers
resources/js/Types/models.ts       - Shared TypeScript interfaces
app/Http/Controllers/Admin/        - Admin controllers
app/Http/Requests/                 - Form Request validators
tests/Feature/Admin/               - Feature tests for admin features
```

**Naming Conventions:**
- Pages: PascalCase (Index.tsx, Create.tsx, Edit.tsx)
- Components: PascalCase (DataTable.tsx, Badge.tsx)
- Types: PascalCase interfaces (User, Role, Office)
- Props: PascalCase interfaces extending PageProps

### Known Deviations from Architecture

**No deviations expected** - this is a pure frontend UI migration. All backend code, routes, controllers, validation, RBAC middleware remain unchanged from Story 1.3.

**Potential Future Enhancements (Not in scope for this story):**
- Bulk user actions (delete multiple users)
- Advanced filtering (date ranges, is_active status)
- Export user list to CSV
- User impersonation feature for admins

## Testing

### Testing Standards

**Test File Locations:**
[Source: docs/architecture/testing-strategy.md]

- Backend Feature Tests: `tests/Feature/Admin/UserControllerTest.php` (already exists from Story 1.3)
- Frontend Tests: `resources/js/__tests__/` (if created)
- E2E Tests: Playwright test suite (if configured)

**Testing Frameworks:**
[Source: docs/architecture/tech-stack.md]

- Backend: PHPUnit (Laravel default)
- Frontend: Vitest + React Testing Library
- E2E: Playwright

**Testing Patterns:**
[Source: docs/architecture/testing-strategy.md]

1. **Feature Tests (Backend):**
   - Use `RefreshDatabase` trait
   - Seed required reference data with factories
   - Assert view props / Inertia payloads
   - Verify RBAC enforcement (403 for non-admin roles)
   - Test validation errors return correct HTTP codes

2. **Frontend Tests:**
   - Test component behavior (DataTable rendering, form submission)
   - Test form validation display
   - Mock Inertia router for navigation tests
   - Test accessibility (keyboard navigation, screen reader support)

3. **E2E Tests:**
   - Test critical workflows (create user, edit user, delete user)
   - Test RBAC (403 for Viewer/Endorser)
   - Test DataTable features (search, filter, sort)
   - Capture screenshots for visual regression

**Test Execution:**
```bash
# Run backend tests
php artisan test

# Run frontend tests
npm run test

# Run TypeScript compilation check
npx tsc --noEmit

# Run production build
npm run build

# Run E2E tests
npx playwright test
```

### Specific Testing Requirements for This Story

**RBAC Testing:**
- Test Administrator can access /admin/users (200 response)
- Test Viewer receives 403 on /admin/users
- Test Endorser receives 403 on /admin/users
- Test unauthenticated user redirects to login

**CRUD Testing:**
- Test create user with valid data → success toast + redirect to index
- Test create user with duplicate email → validation error display
- Test create user with short password → validation error display
- Test edit user updates name, email, role, office
- Test edit user with optional password update
- Test delete user → AlertDialog confirmation → success toast

**DataTable Testing:**
- Test search by name filters user list
- Test search by email filters user list
- Test role filter (All Roles, Viewer, Endorser, Administrator)
- Test office filter (All Offices, + list)
- Test column sorting (name, email, created_at)
- Test pagination controls work
- Test column visibility toggle

**Responsive Testing:**
- Capture screenshots at 375px (mobile)
- Capture screenshots at 768px (tablet)
- Capture screenshots at 1920px (desktop)
- Verify DataTable toolbar wraps correctly on mobile
- Verify forms are usable on mobile devices

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-04 | 1.0 | Initial story draft created by Scrum Master | Bob (SM) |

## Dev Agent Record

*This section will be populated by the development agent during implementation*

### Agent Model Used

*To be filled by dev agent*

### Debug Log References

*To be filled by dev agent*

### Completion Notes List

*To be filled by dev agent*

### File List

*To be filled by dev agent*

## QA Results

*This section will be populated by the QA agent after story completion*
